/* ============================================
   内容样式美化文件 - VitePress 博客样式
   ============================================ */

/* ============================================
   1. 平滑滚动功能
   ============================================ */
html {
  scroll-behavior: smooth;
  scroll-padding-top: 80px; /* 为固定导航栏留出空间 */
}

/* 增强的平滑滚动 - 支持更好的缓动效果 */
@supports (scroll-behavior: smooth) {
  html {
    scroll-behavior: smooth;
  }
}

/* ============================================
   2. 滚动条美化
   ============================================ */

/* 2.1 全局滚动条样式 */
::-webkit-scrollbar {
  width: var(--scrollbar-width-desktop);
  height: var(--scrollbar-width-desktop);
}

::-webkit-scrollbar-track {
  background: var(--vp-c-bg-soft);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--vp-c-brand-1);
  border-radius: 4px;
  transition: var(--transition-fast);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--vp-c-brand-2);
}

::-webkit-scrollbar-corner {
  background: var(--vp-c-bg-soft);
}

/* 2.2 代码块内滚动条美化 */
.vp-doc div[class*="language-"] pre::-webkit-scrollbar {
  width: var(--scrollbar-width-code-desktop);
  height: var(--scrollbar-width-code-desktop);
}

.vp-doc div[class*="language-"] pre::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 3px;
}

.vp-doc div[class*="language-"] pre::-webkit-scrollbar-thumb {
  background: var(--vp-c-brand-1);
  border-radius: 3px;
  transition: var(--transition-fast);
}

.vp-doc div[class*="language-"] pre::-webkit-scrollbar-thumb:hover {
  background: var(--vp-c-brand-2);
}

/* 2.3 深色模式下的滚动条 */
.dark ::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
}

.dark .vp-doc div[class*="language-"] pre::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1);
}

/* ============================================
   3. 代码块样式
   ============================================ */

/* 保持默认 */
/* Default theme inline code: softer colors to reduce visual noise */
:root:not([data-palette]) .vp-doc :not(pre) > code {
  background: rgba(210, 204, 194, 0.7);
  color: rgba(var(--vp-c-brand-1-rgb, 62, 175, 124), 0.92);
}

:root:not([data-palette]).dark .vp-doc :not(pre) > code {
  background: rgba(244, 236, 224, 0.14);
  color: rgba(var(--vp-c-brand-2-rgb, 66, 184, 131), 0.78);
}


/* ============================================
   4. 分割线美化
   ============================================ */
.vp-doc hr {
  margin: 64px 0;
  border: none;
  height: 3px;
  background: linear-gradient(90deg, 
    var(--vp-c-brand-1), 
    var(--vp-c-brand-2), 
    var(--vp-c-brand-3)
  );
  border-radius: var(--radius-sm);
  position: relative;
  overflow: visible;
}

/* ============================================
   4.1 自定义警示框图标
   ============================================ */
.vp-doc .custom-block {
  --vp-custom-block-icon: url("/icons/callouts/file-text.svg");
  --vp-custom-block-icon-color: var(--vp-c-text-2);
}

.vp-doc .custom-block.tip,
.vp-doc .custom-block.important {
  --vp-custom-block-icon: url("/icons/callouts/lightbulb.svg");
  --vp-custom-block-icon-color: var(--vp-c-brand-2);
}

.vp-doc .custom-block.note {
  --vp-custom-block-icon: url("/icons/callouts/file-text.svg");
  --vp-custom-block-icon-color: var(--vp-c-text-2);
}

.vp-doc .custom-block.info {
  --vp-custom-block-icon: url("/icons/callouts/info.svg");
  --vp-custom-block-icon-color: var(--vp-c-brand-1);
}

.vp-doc .custom-block.warning,
.vp-doc .custom-block.caution {
  --vp-custom-block-icon: url("/icons/callouts/alert-triangle.svg");
  --vp-custom-block-icon-color: var(--vp-c-warning, #d97706);
}

.vp-doc .custom-block.danger {
  --vp-custom-block-icon: url("/icons/callouts/zap.svg");
  --vp-custom-block-icon-color: var(--vp-c-danger, #dc2626);
}

.vp-doc .custom-block-title {
  position: relative;
  padding-left: 24px;
  font-weight: 600;
}

.vp-doc .custom-block-title::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0.12em;
  width: 14px;
  height: 14px;
  background-color: var(--vp-custom-block-icon-color, currentColor);
  -webkit-mask: var(--vp-custom-block-icon) no-repeat center / contain;
  mask: var(--vp-custom-block-icon) no-repeat center / contain;
  opacity: 0.9;
}

/* ============================================
   5. 引用样式
   ============================================ */
.vp-doc blockquote {
  margin: 1.5rem 0;
  padding: 1rem 1.25rem 1rem 1.5rem;
  border-left: 4px solid var(--vp-c-brand-1);
  background: linear-gradient(135deg, rgba( var(--vp-c-brand-1-rgb, 101,117,255),0.08), rgba( var(--vp-c-brand-2-rgb, 134,183,255),0.05));
  border-radius: 12px;
  color: var(--vp-c-text-1);
  position: relative;
  overflow: hidden;
}

.vp-doc blockquote::before {
  content: '“';
  position: absolute;
  top: 8px;
  left: 12px;
  font-size: 28px;
  color: var(--vp-c-brand-2);
  opacity: 0.25;
}

.vp-doc blockquote p {
  margin: 0.25rem 0;
}

.vp-doc blockquote strong {
  color: var(--vp-c-brand-1);
}

.vp-doc blockquote code {
  background: rgba(0, 0, 0, 0.05);
  padding: 0.1em 0.35em;
  border-radius: 6px;
}

.dark .vp-doc blockquote {
  background: linear-gradient(135deg, rgba( var(--vp-c-brand-1-rgb, 101,117,255),0.18), rgba( var(--vp-c-brand-2-rgb, 134,183,255),0.08));
}

/* ============================================
   6. Labs 专区组件
   ============================================ */
/* ============================================
   6. 图片放大（medium-zoom）层级修正
   ============================================ */
.medium-zoom-overlay {
  z-index: 30;
}

.medium-zoom-image {
  z-index: 9999 !important; /* 盖过导航与浮层 */
}

/* ============================================
  7. 主题适配样式
  ============================================ */

/* 使用 VitePress 默认深色模式代码块样式 */

/* Mermaid 图表（深色模式）：修复 rect 过亮问题 */
.dark .vp-doc .mermaid svg rect.rect,
.dark .vp-doc .mermaid svg rect.actor,
.dark .vp-doc .mermaid svg rect.note {
  fill: #2f3642 !important;
  stroke: #5f6b7f !important;
}

.dark .vp-doc .mermaid svg rect.actor {
  fill: #262a31 !important;
  stroke: #3b424c !important;
}

.dark .vp-doc .mermaid svg rect.note {
  fill: #3a312a !important;
  stroke: #c28b06 !important;
}

.dark .vp-doc .mermaid svg text {
  fill: #e5e7eb !important;
}

/* ============================================
   8. 响应式设计
   ============================================ */

/* 8.1 移动端滚动条优化 */
@media (max-width: 768px) {
  ::-webkit-scrollbar {
    width: var(--scrollbar-width-mobile);
    height: var(--scrollbar-width-mobile);
  }
  
  .vp-doc div[class*="language-"] pre::-webkit-scrollbar {
    width: var(--scrollbar-width-code-mobile);
    height: var(--scrollbar-width-code-mobile);
  }
}

/* 8.2 移动端布局调整 */
@media (max-width: 768px) {
  html {
    scroll-padding-top: 60px; /* 移动端导航栏通常更矮 */
  }
  
  .vp-doc hr {
    margin: 32px 0;
    height: 2px;
  }
}

/* 8.3 小屏幕优化 */
@media (max-width: 480px) {
  /* 使用 VitePress 默认响应式代码块样式 */
}

